<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://tanglinghan.github.io</id>
    <title>å±±æ²³åœ¨</title>
    <updated>2021-03-07T13:44:12.264Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://tanglinghan.github.io"/>
    <link rel="self" href="https://tanglinghan.github.io/atom.xml"/>
    <subtitle>å”§å”§å•µå•µè€¶</subtitle>
    <logo>https://tanglinghan.github.io/images/avatar.png</logo>
    <icon>https://tanglinghan.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, å±±æ²³åœ¨</rights>
    <entry>
        <title type="html"><![CDATA[è®°ä¸€æ¬¡æœåŠ¡å™¨æƒ¨é­æŒ–çŸ¿]]></title>
        <id>https://tanglinghan.github.io/post/jiyiciwakuang/</id>
        <link href="https://tanglinghan.github.io/post/jiyiciwakuang/">
        </link>
        <updated>2021-03-07T02:31:18.000Z</updated>
        <summary type="html"><![CDATA[<p>ç™»è¿›æœåŠ¡å™¨ä¸€çœ‹CPUå ç”¨æƒ…å†µ, æ„Ÿè§‰ä¸å¯¹åŠ²(å‰å¤©åˆšå‘ç°å…¬å¸æœåŠ¡å™¨æƒ¨é­æŒ–çŸ¿,éšçº¦ä¹‹é—´å·²ç»çŒœåˆ°ç‚¹ä»€ä¹ˆä¸œè¥¿, æœ‰ç‚¹å…´å¥‹), topä¸€çœ‹, å‘¦, å¥½å®¶ä¼™:</p>
]]></summary>
        <content type="html"><![CDATA[<p>ç™»è¿›æœåŠ¡å™¨ä¸€çœ‹CPUå ç”¨æƒ…å†µ, æ„Ÿè§‰ä¸å¯¹åŠ²(å‰å¤©åˆšå‘ç°å…¬å¸æœåŠ¡å™¨æƒ¨é­æŒ–çŸ¿,éšçº¦ä¹‹é—´å·²ç»çŒœåˆ°ç‚¹ä»€ä¹ˆä¸œè¥¿, æœ‰ç‚¹å…´å¥‹), topä¸€çœ‹, å‘¦, å¥½å®¶ä¼™:</p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://tanglinghan.github.io/post-images/1615086285423.png" alt="" loading="lazy"></figure>
<ol>
<li>é¦–å…ˆæŸ¥çœ‹å®šæ—¶ä»»åŠ¡ï¼š</li>
</ol>
<pre><code>crontab -l
</code></pre>
<p><img src="https://tanglinghan.github.io/post-images/1615086133167.png" alt="" loading="lazy"><br>
<code>crontab -e</code>ç¼–è¾‘å®šæ—¶ä»»åŠ¡, æŒ‰<code>i</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼, åˆ äº†è¿™è¡Œå®šæ—¶ä»»åŠ¡, <code>shift+:</code>è¿›å…¥åº•è¡Œå‘½ä»¤æ¨¡å¼, è¾“å…¥<code>wq</code>, ä¿å­˜é€€å‡º, é‡å¯crondæœåŠ¡</p>
<pre><code>systemctl restart crond
</code></pre>
<ol>
<li>ç„¶åæ‰¾åˆ°æŒ–çŸ¿ç¨‹åºè¿›ç¨‹,  å•ç‹¬killæ‰kdevtmpfsiè¿›ç¨‹ä¼šä¸æ–­æ¢å¤å ç”¨, kinsingæ˜¯kdevtmpfsiçš„å®ˆæŠ¤è¿›ç¨‹, ä¾æ¬¡killæ‰</li>
</ol>
<pre><code>ps -ef | grep kinsing
ps -ef | grep kdevtmpfsi
</code></pre>
<p><img src="https://tanglinghan.github.io/post-images/1615086638158.png" alt="" loading="lazy"><br>
3. æ‰¾åˆ°æºæ–‡ä»¶, åˆ é™¤</p>
<pre><code>cd /tmp
rm kdevtmpfsi
[root@hecs-x-large-2-linux-20210304000224 tmp]# rm kdevtmpfsi
 rm: remove regular file â€˜kdevtmpfsiâ€™? y

cd /etc
rm kinsing
[root@hecs-x-large-2-linux-20210304000224 etc]# rm kinsing
rm: remove regular file â€˜kinsingâ€™? y

</code></pre>
<p>äº”åˆ†é’Ÿå.....å¥½å®¶ä¼™, åˆæ¥äº†.....<br>
è¿™æ¬¡è¿›ç¨‹æœä¸åˆ°äº†...<br>
<img src="https://tanglinghan.github.io/post-images/1615087227831.png" alt="" loading="lazy"><br>
ç„¶åä¸€çœ‹å®šæ—¶ä»»åŠ¡:<br>
<img src="https://tanglinghan.github.io/post-images/1615087233955.png" alt="" loading="lazy"><br>
åˆå›æ¥äº†<br>
é‡å¤ä¸Šé¢æ“ä½œåˆ é™¤å®šæ—¶ä»»åŠ¡, é‡å¯å®šæ—¶æœåŠ¡, é€šè¿‡topå‘½ä»¤çœ‹åˆ°å®ƒçš„PID, <code>kill -9 2627</code><br>
30ç§’å.....???</p>
<pre><code>  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
 3588 root      20   0  515536   1724    928 S 100.0  0.0   1:30.83 kdevtmpfsi
19380 root      20   0 3164884 558104   6312 S   1.0 14.4  13:03.55 java
 2024 root      20   0 3715112 338048   7168 S   0.3  8.7   2:57.88 java
 2252 root      20   0 3703328 356088   6640 S   0.3  9.2   3:27.96 java
</code></pre>
<p>å°è¯•æŸ¥æ‰¾ä¸‹ç›¸å…³æ–‡ä»¶</p>
<pre><code>find / -name kdevtmpfsi
find / -name kinsing
</code></pre>
<p>å¥‡äº†æ€ªäº†, æ–‡ä»¶åˆ äº†, å®šæ—¶ä»»åŠ¡ä¹Ÿåˆ äº†, ä½ ç‰¹ä¹ˆåˆç»™æˆ‘è·‘èµ·æ¥äº†.....</p>
<p>çªç„¶å‘ç°ä¹‹å‰å­˜æ”¾æŒ–çŸ¿æ–‡ä»¶çš„<code>tmp</code>ç›®å½•æœ‰æ‰§è¡Œæƒé™<br>
<img src="https://tanglinghan.github.io/post-images/1615090700339.png" alt="" loading="lazy"><br>
emmm..., ç»™ä»–æ¥ä¸€ä¸‹ğŸ”¨</p>
<pre><code>chmod 666 tmp
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://tanglinghan.github.io/post-images/1615090813031.png" alt="" loading="lazy"></figure>
<blockquote>
<p>ä¸‰ä½æ•°å­—, åˆ†åˆ«ä»£è¡¨ä¸‰ä¸ªç”¨æˆ·ä½èµ‹äºˆ â€œæ–‡ä»¶å±ä¸»ç”¨æˆ·â€ã€â€œæ–‡ä»¶æ‰€å±ç»„ç”¨æˆ·â€ã€â€œå…¶ä»–ç”¨æˆ·â€ è¿™ä¸‰ç§ç”¨æˆ·å¯¹æ–‡&gt; ä»¶çš„è¯»ï¼ˆ4ï¼‰ã€å†™ï¼ˆ2ï¼‰ã€æ‰§è¡Œï¼ˆ1ï¼‰æƒé™ã€‚<br>
7=4+2+1ï¼Œæ‰€ä»¥å°±ä»£è¡¨è¯»å†™æ‰§è¡Œæƒé™ï¼Œ5=4+1ï¼Œä»£è¡¨è¯»å’Œæ‰§è¡Œæƒé™ã€‚ 6=4+2, ä»£è¡¨è¯»å’Œå†™æƒé™, ä¹Ÿå¯ç”¨ä½¿ç”¨å­—æ¯ï¼šrè¯»ã€wå†™ã€xæ‰§è¡Œã€‚</p>
</blockquote>
<p>ç„¶ååœ¨killæ‰kdevtmpfsiè¿›ç¨‹,<br>
äº”åˆ†é’Ÿå....<br>
ååˆ†é’Ÿå.......<br>
æš‚æ—¶OK.......<br>
ğŸ¤£ğŸ¤£CPUä¸€ç›´åœ¨50%....æ„Ÿè§‰è¿˜æ˜¯æœ‰é—®é¢˜...ğŸ¤£ğŸ¤£é‡è£…ç³»ç»Ÿäº†.........</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux - å®‰è£…MySQL8.0]]></title>
        <id>https://tanglinghan.github.io/post/linux-an-zhuang-mysql80/</id>
        <link href="https://tanglinghan.github.io/post/linux-an-zhuang-mysql80/">
        </link>
        <updated>2020-02-04T09:42:24.000Z</updated>
        <content type="html"><![CDATA[<p><a href="https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.23-linux-glibc2.12-x86_64.tar.xz">MySQL8.0ä¸‹è½½</a></p>
<ol>
<li>å®‰è£…MySQL</li>
</ol>
<pre><code># è§£å‹
tar -xvf mysql-8.0.23-linux-glibc2.12-x86_64.tar.xz
# é‡å‘½åæ–‡ä»¶å¤¹
mv mysql-8.0.23-linux-glibc2.12-x86_64 mysql
# è¿›å…¥mysqlç›®å½•å¹¶æ–°å»ºdataæ–‡ä»¶å¤¹
cd mysql;mkdir data
</code></pre>
<p>åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·å¹¶ä¿®æ”¹æƒé™</p>
<pre><code>#åˆ›å»ºmysqlç»„
groupadd mysql
#åˆ›å»ºç”¨æˆ·mysql
useradd -r -g mysql mysql
#æˆäºˆç”¨æˆ·mysqlæƒé™
chown mysql:mysql -R /usr/local/mysql/
# é…ç½®æ–‡ä»¶ä¸­socketç›®å½•åœ¨/var/lib/mysql/ ,è‹¥æ²¡æœ‰æ­¤æ–‡ä»¶å¤¹ å¯æ‰‹åŠ¨åˆ›å»º,å¹¶èµ‹äºˆç”¨æˆ·æƒé™
chown mysql:mysql -R /var/lib/mysql/
</code></pre>
<blockquote>
<p>useradd -r åˆ›å»ºç³»ç»Ÿç”¨æˆ· -g ä¸ºç”¨æˆ·åˆ†é…ç»„<br>
chown ç”¨æˆ·ï¼šç»„  -R ï¼ˆé€’å½’ä¿®æ”¹ï¼‰ ç›®å½•</p>
</blockquote>
<p>æ–°å»ºé…ç½®æ–‡ä»¶my.cnf, ä¿®æ”¹è¿æ¥ç«¯å£ä¸º3307</p>
<pre><code>vim /etc/my.cnf
# æ·»åŠ ä»¥ä¸‹å†…å®¹
[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8mb4
socket=/var/lib/mysql/mysql.sock
[mysqld]
# mysqlæ—¥å¿—æ–‡ä»¶
slow_query_log_file=/usr/local/mysql/sql_log/slow_querylog.log
socket=/var/lib/mysql/mysql.sock
pid_file = /var/lib/mysql/mysqld.pid
port=3307
user=mysql
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=200
# å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººä»è¯¥ä¸»æœºè¯•å›¾æ”»å‡»æ•°æ®åº“ç³»ç»Ÿ
max_connect_errors=10
#æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸ºutf8mb4
character_set_server=utf8mb4
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿â½¤çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB
lower_case_table_names=1
max_allowed_packet=16M
# é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯
default_authentication_plugin=mysql_native_password
[client]
# è®¾ç½®mysqlå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶é»˜è®¤ä½¿ç”¨çš„ç«¯å£
port=3307
default-character-set=utf8mb4
</code></pre>
<p>æ•°æ®åº“åˆå§‹åŒ–</p>
<pre><code>/usr/local/mysql/bin/mysqld  --initialize  --user=mysql --basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data/ 
</code></pre>
<blockquote>
<p>é‡è§å¼‚å¸¸<br>
<img src="https://tanglinghan.github.io/post-images/1615113330488.png" alt="" loading="lazy"><br>
yum install libaio</p>
</blockquote>
<p>è®°å¾—ä¿å­˜åˆå§‹åŒ–å¯†ç <br>
<img src="https://tanglinghan.github.io/post-images/1615113519957.png" alt="" loading="lazy"><br>
è¿›å…¥å®‰è£…ç›®å½•<code>support-files</code>å¯åŠ¨mysql,<code>./support-files/mysql.server start</code>, å¦‚æœå‡ºç°ç±»ä¼¼<code>however file don't exists.</code>è¿™ç§é”™è¯¯, æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶å°±å¥½äº†<br>
<img src="https://tanglinghan.github.io/post-images/1615113753067.png" alt="" loading="lazy"></p>
<p>ä¿®æ”¹å¯†ç </p>
<pre><code>cd usr/local/mysql/bin
./mysql -u root -p
# ä¿®æ”¹å¯†ç 
alter user 'root'@'localhost' identified by 'your_password';
# åˆ·æ–°æƒé™
flush privileges;
#  ä¿®æ”¹rootç”¨æˆ·å¯ä»¥è¿œç¨‹è¿æ¥
update mysql.user set host='%' where user='root';
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux - å®‰è£…RabbitMQ]]></title>
        <id>https://tanglinghan.github.io/post/linux-an-zhuang-rabbitmq/</id>
        <link href="https://tanglinghan.github.io/post/linux-an-zhuang-rabbitmq/">
        </link>
        <updated>2020-02-04T07:28:56.000Z</updated>
        <content type="html"><![CDATA[<p>å®˜æ–¹é¡µé¢: <a href="https://www.rabbitmq.com/download.html">https://www.rabbitmq.com/download.html</a><br>
ä¸åŒç‰ˆæœ¬rabbitmqç‰ˆæœ¬æ”¯æŒçš„erlangç‰ˆæœ¬ä¸åŒ, <a href="https://www.rabbitmq.com/which-erlang.html">ç‚¹å‡»æŸ¥çœ‹å¯¹ç…§è¡¨</a><br>
å®‰è£…ç‰ˆæœ¬:</p>
<ul>
<li><a href="https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.8.14/rabbitmq-server-generic-unix-3.8.14.tar.xz">rabbitmq-server-generic-unix-3.8.14.tar</a></li>
<li>otp_src_23.2.7.tar.gz</li>
</ul>
<ol>
<li>
<h2 id="å®‰è£…ä¾èµ–ç¯å¢ƒ">å®‰è£…ä¾èµ–ç¯å¢ƒ</h2>
</li>
</ol>
<pre><code> yum install gcc glibc-devel make ncurses-devel openssl-devel xmlto
</code></pre>
<ol start="2">
<li>
<h2 id="å®‰è£…-erlang">å®‰è£… erlang`</h2>
</li>
</ol>
<pre><code> tar -zxvf otp_src_23.2.7.tar.gz
 cd otp_src_23.2.7
 # ç¼–è¯‘å®‰è£…
  ./configure --prefix=/usr/local/erlang
  make &amp;&amp; make install
  # æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ
  cd /usr/local/erlang/bin/ 
   ./erl

[root@hecs-x-large-2-linux-20210304000224 bin]# ./erl
Erlang/OTP 23 [erts-11.1.8] [source] [64-bit] [smp:2:2] [ds:2:2:10] [async-threads:1] [hipe]

Eshell V11.1.8  (abort with ^G)
</code></pre>
<p><code>ctrl+c</code>é€€å‡º, é…ç½®ç¯å¢ƒå˜é‡:</p>
<pre><code> vim /etc/profile
 # æŒ‰ i è¿›å…¥ç¼–è¾‘æ¨¡å¼, æœ«å°¾åŠ ä¸Š
 export PATH=$PATH:/usr/local/erlang/bin
 # shift+å†’å· è¿›å…¥åº•è¡Œå‘½ä»¤æ¨¡å¼ è¾“å…¥ wq ä¿å­˜é€€å‡º
</code></pre>
<ol start="3">
<li>
<h2 id="å®‰è£…rabbitmq">å®‰è£…RabbitMQ</h2>
</li>
</ol>
<pre><code>tar -xvf rabbitmq-server-generic-unix-3.8.14.tar
# ä¸ªäººä¹ æƒ¯ å°†æ–‡ä»¶å¤¹å‘½åä¸ºrabbitmq
mv rabbitmq_server-3.8.14 rabbitmq
# é…ç½®rabbitmqç¯å¢ƒå˜é‡
vim /etc/profile
export PATH=$PATH:/usr/local/rabbitmq/sbin
source /etc/profile
</code></pre>
<h3 id="åŸºæœ¬å‘½ä»¤">åŸºæœ¬å‘½ä»¤:</h3>
<pre><code># å¯åŠ¨
rabbitmq-server -detached
# å…³é—­
rabbitmqctl stop
# æŸ¥çœ‹çŠ¶æ€
rabbitmqctl status
</code></pre>
<p>å¯åŠ¨webé¡µé¢æ’ä»¶: <code>rabbitmq-plugins enable rabbitmq_management</code><br>
è®¿é—®ç®¡ç†é¡µé¢ï¼š<a href="http://127.0.0.1:15672">http://127.0.0.1:15672</a>   webç«¯å£é»˜è®¤ä¸º15672</p>
<h3 id="è´¦å·é…ç½®">è´¦å·é…ç½®</h3>
<p>rabbitmqæœ‰ä¸€ä¸ªé»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œ<code>guest</code>å’Œ<code>guest</code>, ä½†è¯¥ç”¨æˆ·åå’Œå¯†ç åªå…è®¸æœ¬åœ°è®¿é—®ï¼Œå¦‚æœæ˜¯è¿œç¨‹æ“ä½œçš„è¯ï¼Œéœ€è¦åˆ›å»ºæ–°çš„ç”¨æˆ·åå’Œå¯†ç ï¼›</p>
<pre><code># æ·»åŠ ç”¨æˆ·ï¼Œåé¢ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç”¨æˆ·åå’Œå¯†ç  
rabbitmqctl add_user [username] [passwd]
# æ·»åŠ æƒé™  
rabbitmqctl set_permissions -p / [username] &quot;.*&quot; &quot;.*&quot; &quot;.*&quot; 
# ä¿®æ”¹ç”¨æˆ·è§’è‰²,å°†ç”¨æˆ·è®¾ä¸ºç®¡ç†å‘˜
rabbitmqctl set_user_tags [username] administrator 
</code></pre>
<hr>
<p>ä»¥ä¸‹å†…å®¹æœ‰é—®é¢˜, å¾…è¡¥å……........</p>
<ol>
<li>
<h2 id="ä¿®æ”¹é»˜è®¤ç«¯å£">ä¿®æ”¹é»˜è®¤ç«¯å£</h2>
</li>
</ol>
<p><a href="https://github.com/rabbitmq/rabbitmq-server/blob/v3.8.x/deps/rabbit/docs/rabbitmq.conf.example">https://github.com/rabbitmq/rabbitmq-server/blob/v3.8.x/deps/rabbit/docs/rabbitmq.conf.example</a><br>
ä¿®æ”¹rabbitmq-default</p>
<pre><code>vim /usr/local/vim rabbitmq/sbin/rabbitmq-defaults
# åŠ ä¸Šè¿™å¥è¯
CONFIG_FILE=${RABBITMQ_HOME}/rabbitmq/etc/rabbitmq/rabbitmq.conf
</code></pre>
<p>åœ¨å®‰è£…ç›®å½•<code>etc/rabbitmq/</code>æ·»åŠ é…ç½®æ–‡ä»¶<code>rabbitmq.conf</code><br>
<code>cd /usr/local/rabbitmq/etc/rabbitmq</code>ç„¶å<code>vim rabbitmq.conf</code>, æŒ‰<code>i</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼, ä¿®æ”¹ä»¥ä¸‹å†…å®¹, shift+å†’å·è¿›å…¥åº•è¡Œå‘½ä»¤æ¨¡å¼è¾“å…¥<code>wq</code>, æŒ‰<code>enter</code>ä¿å­˜é€€å‡º</p>
<pre><code>#æ•°æ®ç®¡ç†ç«¯å£ï¼ˆé»˜è®¤ç«¯å£ä¸º5672ï¼‰
listeners.tcp.default=5673
#ç•Œé¢ç®¡ç†ç«¯å£ï¼ˆé»˜è®¤ç«¯å£ä¸º15672ï¼‰
management.tcp.port=25672
management.tcp.ip=0.0.0.0
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux - é…ç½®jdkç¯å¢ƒ]]></title>
        <id>https://tanglinghan.github.io/post/linux-pei-zhi-jdk-huan-jing/</id>
        <link href="https://tanglinghan.github.io/post/linux-pei-zhi-jdk-huan-jing/">
        </link>
        <updated>2020-02-04T07:24:13.000Z</updated>
        <content type="html"><![CDATA[<pre><code>vim /etc/profile
</code></pre>
<p>æŒ‰<code>i</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼, åœ¨æœ€ååŠ ä¸Š:</p>
<pre><code>export JAVA_HOME=/usr/local/jdk/jdk1.8.0_251
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:$CLASSPATH
export JAVA_PATH=${JAVA_HOME}/bin:${JRE_HOME}/bin
export PATH=$PATH:${JAVA_PATH}
</code></pre>
<p><code>JAVA_HOME</code>å¡«å†™ä½ jdkè§£å‹ç›®å½•<br>
ç„¶åé‡æ–°åŠ è½½profileæ–‡ä»¶:</p>
<pre><code>source /etc/profile
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Guys!]]></title>
        <id>https://tanglinghan.github.io/post/hello-guys/</id>
        <link href="https://tanglinghan.github.io/post/hello-guys/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
    </entry>
</feed>